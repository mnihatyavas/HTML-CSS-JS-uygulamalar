// C1c46a.js: Tarayýcýdaki yereldepolu adla hitaplý http sayfasý kodlamasý alt-örneði.
const hatýrlaBölümü = document.querySelector (".hatýrla");
const unutBölümü = document.querySelector (".unut");
const forum = document.querySelector ("form");
const adGiriþi = document.querySelector ("#adgir");
const gönderDüðmesi = document.querySelector ("#adgönder");
const yebaþlatDüðmesi = document.querySelector ("#adunut");
const yerelleriGör = document.querySelector ("#tüm-yereller");
const yerelleriSil = document.querySelector ("#sil-yerel");

const h1Baþlýk = document.querySelector ("h1");
const þahsiKarþýlama = document.querySelector (".kiþisel-selamlama");

forum.addEventListener ("submit", function (o) {o.preventDefault();}); // Gönder týklandýðýnda varsayýlý gönder iptal edilecek...

gönderDüðmesi.addEventListener ("click", function() {// Selamla düðmesi týklanýrsa...
    localStorage.setItem ("isim", adGiriþi.value); // Tarayýcý yerel deposuna anahtarkelime:deðer çiftini (örn. "isim:Nihat") sakla...
    adGöstermeKontrolu(); // Yeni isim'le þahsi hitaplarý (h1, p(.kiþisel-selamlama), Unut-butonu) sun...
}); // gön..sonu...

yebaþlatDüðmesi.addEventListener ("click", function() {// Unut düðmesi týklanýrsa
    localStorage.clear ("isim"); // Tarayýcý yerel deposundan isim:deðer çiftini sil...
    adGöstermeKontrolu(); // Ýsimsiz genel hitaplarý (h1, p(.kiþisel-selamlama), Selamla-butonu) sun...
}); // ye..sonu...

function adGöstermeKontrolu() {
    if (localStorage.getItem ("isim")) {// Önceden yerel-depoya isim:deðer saklanmýþsa, þahsi hitap ve karþýlama sunulacak...
        let hitap = localStorage.getItem ("isim");
        h1Baþlýk.textContent = "Hoþgeldin, " + hitap;
        þahsiKarþýlama.textContent = "Ýnternet sayfamýza hoþgeldin, " + hitap + "! Umarýz buraya takýldýðýnýzdan hoþnut kalýrsýnýz.";
        unutBölümü.style.display = "block"; // Unut-buton'u göster...
        hatýrlaBölümü.style.display = "none"; // Selamla-buton'u gizle...
    }else {// Genel hitap ve karþýlama sunulacak...
        h1Baþlýk.textContent = "Ýnternet sayfamýza hoþgeldiniz";
        þahsiKarþýlama.textContent = "Ýnternet sayfamýza hoþgeldiniz. Umarýz buraya takýldýðýnýzdan hoþnut kalýrsýnýz.";
        unutBölümü.style.display = "none"; // Unut-butonu gizlenecek...
        hatýrlaBölümü.style.display = "block"; // Selamla-butonu týklanacak...
    } // else sonu...
} // func sonu...

yerelleriGör.addEventListener ("click", ()=>{for (let anahtar in localStorage) {console.log (anahtar + "=" + localStorage [anahtar] ); } } );
yerelleriSil.addEventListener ("click", ()=>{let yerel=prompt ("Silinecek yerel anahtarý girin:"); localStorage.clear (yerel); } );

// Ýlk yüklemede, saklý yerel depo isim:deðer varsa þahsi, yoksa genel hitap-karþýlama sun...
document.body.onload = adGöstermeKontrolu;